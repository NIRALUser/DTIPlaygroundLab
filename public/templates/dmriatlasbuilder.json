{
  "name" : "dmriatlasbuilder",
  "parameter_groups":
  {
    "affine_atlas": {
          "caption" : "Affine Atlas",
          "parameters":[
               {
                  "name" : "m_BFAffineTfmMode",
                  "caption": "BF Affine tfm Mode",
                  "value": "useCenterOfHeadAlign",
                  "type": "select",
                  "description" : "None",
                  "candidates" : [
                    {
                      "value": "useCenterOfHeadAlign",
                      "caption": "Center of head align",
                      "description": "Center of head align"
                    },
                    {
                      "value": "useGeometryAlign",
                      "caption": "Use Geometry Align",
                      "description": "Nothing"
                    },
                    {
                      "value": "UseMomentsAlign",
                      "caption": "Use Moments Align",
                      "description": "Nothing"
                    },
                    {
                      "value": "Off",
                      "caption": "Off",
                      "description": "Nothing"
                    }           
                  ]
               },
               {
                  "name" : "m_nbLoops",
                  "caption" : "Number of Loops",
                  "value" : 2,
                  "type": "number",
                  "description" : "None"
               },
               {
                  "name" : "m_NeedToBeCropped",
                  "caption" : "Need To be Cropped",
                  "value" : 1,
                  "type": "number",
                  "description" : "None"
               },
               {
                  "name" : "m_CropSize",
                  "caption": "Cropping Sizes",
                  "value": [50,50,50],
                  "type": "list",
                  "size": 3,
                  "description" : "None"
               },
               {
                  "name" : "m_RegType",
                  "caption" : "Registration Template",
                  "value" : 1,
                  "type": "select",
                  "candidates":[
                    {
                      "value" : 1,
                      "caption" : "No Template Image",
                      "description" : "Using the first image as reference in the first Registration Loop"
                    },
                    {
                      "value" : 0,
                      "caption" : "Use Template Image",
                      "description" : "Use template image specified"
                    }
                  ],
                  "description" : "None"
               },     
               {
                  "name" : "m_TemplatePath",
                  "caption" : "Template Path",
                  "optional" : true,
                  "if" : {
                      "m_RegType" : 1
                  },
                  "value" : "",
                  "type": "filepath-remote",
                  "description" : "None"
               },
               {
                  "name" : "m_ScalarMeasurement",
                  "caption" : "Scalar Measurement Type",
                  "value" : "FA",
                  "type": "select",
                  "description" : "None",
                  "candidates" : [
                    {
                      "value": "FA",
                      "caption": "FA",
                      "description": "None"
                    },
                    {
                      "value": "MD",
                      "caption": "MD",
                      "description": "Nothing"
                    }
                  ]
               }
             ]
    },
    "diffeomorphic_atlas": {
          "caption" : "Diffeormorphic Atlas",
          "parameters":[
               {
                  "name" : "m_InterpolType",
                  "caption" : "Resampling Interpolation type",
                  "value" : "Linear",
                  "type": "select",
                  "description" : "None",
                  "candidates" : [
                    {
                      "value": "Linear",
                      "caption": "Linear",
                      "description": "None"
                    },
                    {
                      "value": "Nearest Neighborhood",
                      "caption": "Nearest Neighborhood",
                      "description": "Nothing"
                    },
                    {
                      "value": "BSpline",
                      "caption": "BSpline",
                      "description": "Nothing"
                    },
                    {
                      "value": "Windowed Sinc",
                      "caption": "Windowed Sinc",
                      "description": "Nothing"
                    }
                  ]
               },
               {
                  "name" : "m_InterpolOption",
                  "caption" : "Resampling Interpolation Option",
                  "value" : "Cosine",
                  "type": "select",
                  "if" : {
                    "m_InterpolType" : "Windowed Sinc"
                  },
                  "candidates":[
                    {
                      "value": "Hamming",
                      "caption": "Hamming",
                      "description": "Hamming"
                    },
                    {
                      "value": "Cosine",
                      "caption": "Cosine",
                      "description": "Cosine"
                    },
                    {
                      "value": "Welch",
                      "caption": "Welch",
                      "description": "Welch"
                    },
                    {
                      "value": "Lanczos",
                      "caption": "Lanczos",
                      "description": "Lanczos"
                    },
                    {
                      "value": "Blackman",
                      "caption": "Blackman",
                      "description": "Blackman"
                    }
                  ],
                  "description" : "None"
               },
               {
                  "name" : "m_TensInterpol",
                  "caption" : "Tensor Interpolation",
                  "value" : "Log Euclidean",
                  "type": "select",
                  "description" : "None",
                  "candidates" : [
                    {
                      "value": "Log Euclidean",
                      "caption": "Log Euclidean",
                      "description": "None"
                    },
                    {
                      "value": "Non Log Euclidean",
                      "caption": "Non Log Euclidean",
                      "description": "Nothing"
                    }
                  ]
               },
               {
                  "name" : "m_InterpolLogOption",
                  "caption" : "Tensor Interpolation Correction",
                  "if" : {
                    "m_TensInterpol" : "Non Log Euclidean"
                  },
                  "value" : "None",
                  "type": "select",
                  "candidates":[
                    {
                      "value": "Zero",
                      "caption": "Zero",
                      "description": "Zero"
                    },
                    {
                      "value": "None",
                      "caption": "None",
                      "description": "None"
                    },
                    {
                      "value": "Absolute Value",
                      "caption": "Absolute Value",
                      "description": "Absolute Value"
                    },
                    {
                      "value": "Nearest",
                      "caption": "Nearest",
                      "description": "Nearest"
                    }
                  ],
                  "description" : "None"
               },
               {
                  "name" : "m_TensTfm",
                  "caption" : "Tensor Transformation",
                  "value" : "Preservation of the Principal Direction (PPD)",
                  "type": "select",
                  "description" : "None",
                  "candidates" : [
                    {
                      "value": "Preservation of the Principal Direction (PPD)",
                      "caption": "Preservation of the Principal Direction (PPD)",
                      "description": "None"
                    },
                    {
                      "value": "Finite Strain (FS)",
                      "caption": "Finite Strain (FS)",
                      "description": "Nothing"
                    }
                  ]
               }
          ]
    },
    "final_resample" : {
          "caption" : "Final Resampling",
          "parameters":[
               {
                  "name" : "m_DTIRegExtraPath",
                  "caption" : "ANTS Directory",
                  "value" : "",
                  "type": "filepath-remote",
                  "description" : "None"
               },  
               {
                  "name" : "m_nbLoopsDTIReg",
                  "caption" : "Number of Loops for DTIReg",
                  "value" : 3,
                  "type": "number",
                  "description" : "None"
               },
               {
                  "name" : "m_DTIRegOptions",
                  "caption": "DTIReg Options",
                  "value": ["ANTS", "GreedyDiffeo (SyN)", "0.25", "100x50x25", "Cross-Correlation (CC)", "2","3","0"],
                  "type": "list",
                  "size": null, 
                  "description" : "None"
               }
          ]
    },
    "execution": {
          "caption" : "Affine Atlas",
          "parameters":[

               {
                  "name" : "m_useGridProcess",
                  "caption" : "Use Grid Processing",
                  "value" : false,
                  "type": "checkbox",
                  "description" : "None"
               },
               {
                  "name" : "m_NbThreadsString",
                  "caption" : "Number of threads to use",
                  "value" : 3,
                  "type": "number",
                  "description" : "None"
               },

               {
                  "name" : "m_OutputPath",
                  "caption" : "Output Path",
                  "value" : "",
                  "type": "filepath-remote",
                  "description" : "None"
               },
               {
                  "name" : "m_Overwrite",
                  "caption" : "Overwrite",
                  "value" : 1,
                  "type": "number",
                  "description" : "None"
               },
               {
                  "name" : "m_PythonPath",
                  "caption" : "Python Path",
                  "value" : "/usr/bin/python",
                  "type": "filepath-remote",
                  "description" : "None"
               },

               {
                  "name" : "m_GridAtlasCommand",
                  "caption" : "Grid Atlas Command (optional)",
                  "value" : "",
                  "optional": true,
                  "type": "string",
                  "description" : "None"
               },
               {
                  "name" : "m_GridGeneralCommand",
                  "caption" : "Grid General Computing Command (optional)",
                  "value" : "",
                  "optional" : true,
                  "type": "string",
                  "description" : "None"
               }

          ]
    }
  }
}